<?php
//Template Name: VarSITy Analysis

get_header();
?>

<div id="primary" class="content-area">

	<main id="main" class="site-main container-fluid" role="main">
	
	<div class="card-deck mt-3">
		<div class="card border-dark mb-3">
			<h3 class="card-header mt-0">Cases<small class="float-right"><span class="badge badge-secondary" id="caseCount">1</span></small></h3>
			<ol id="caseList" class="analysisList ml-0 list-group list-group-flush">
				<li class="list-group-item" data-id="BoT_33834" data-name="BoT 33834">BoT 33834</li>
			</ol>		
		</div>
		<div class="card border-dark mb-3">
			<h3 class="card-header mt-0">Controls<small class="float-right"><span class="badge badge-secondary" id="controlCount">52</span></small></h3>
			<ol id="controlList" class="analysisList ml-0 list-group list-group-flush">
				<li class="list-group-item" data-id="AS_20361" data-name="AS 20361">AS 20361</li>
				<li class="list-group-item" data-id="BaH_27933" data-name="BaH 27933">BaH 27933</li>
				<li class="list-group-item" data-id="BaH_28502" data-name="BaH 28502">BaH 28502</li>
				<li class="list-group-item" data-id="BE_29160" data-name="BE 29160">BE 29160</li>
				<li class="list-group-item" data-id="BE_34005" data-name="BE 34005">BE 34005</li>
				<li class="list-group-item" data-id="BGV_G_27325" data-name="BGV_G 27325">BGV_G 27325</li>
				<li class="list-group-item" data-id="BoT_28523" data-name="BoT 28523">BoT 28523</li>
				<li class="list-group-item" data-id="BoT_32595" data-name="BoT 32595">BoT 32595</li>
				<li class="list-group-item" data-id="BoT_33129" data-name="BoT 33129">BoT 33129</li>
				<li class="list-group-item" data-id="BoT_33421" data-name="BoT 33421">BoT 33421</li>
				<li class="list-group-item" data-id="BoT_33725" data-name="BoT 33725">BoT 33725</li>
				<li class="list-group-item" data-id="CS_35365" data-name="CS 35365">CS 35365</li>
				<li class="list-group-item" data-id="D_34425" data-name="D 34425">D 34425</li>
				<li class="list-group-item" data-id="ESS_34006" data-name="ESS 34006">ESS 34006</li>
				<li class="list-group-item" data-id="FBD_33745" data-name="FBD 33745">FBD 33745</li>
				<li class="list-group-item" data-id="FCR_34446" data-name="FCR 34446">FCR 34446</li>
				<li class="list-group-item" data-id="FS_35083" data-name="FS 35083">FS 35083</li>
				<li class="list-group-item" data-id="GD_19106" data-name="GD 19106">GD 19106</li>
				<li class="list-group-item" data-id="GS_29455" data-name="GS 29455">GS 29455</li>
				<li class="list-group-item" data-id="GS_29746" data-name="GS 29746">GS 29746</li>
				<li class="list-group-item" data-id="GS_29747" data-name="GS 29747">GS 29747</li>
				<li class="list-group-item" data-id="GS_32059" data-name="GS 32059">GS 32059</li>
				<li class="list-group-item" data-id="GS_32603" data-name="GS 32603">GS 32603</li>
				<li class="list-group-item" data-id="GWP_35039" data-name="GWP 35039">GWP 35039</li>
				<li class="list-group-item" data-id="G_26137" data-name="G 26137">G 26137</li>
				<li class="list-group-item" data-id="ISP_27785" data-name="ISP 27785">ISP 27785</li>
				<li class="list-group-item" data-id="ISP_28899" data-name="ISP 28899">ISP 28899</li>
				<li class="list-group-item" data-id="IS_34583" data-name="IS 34583">IS 34583</li>
				<li class="list-group-item" data-id="KE_24827" data-name="KE 24827">KE 24827</li>
				<li class="list-group-item" data-id="KE_34445" data-name="KE 34445">KE 34445</li>
				<li class="list-group-item" data-id="KE_34857" data-name="KE 34857">KE 34857</li>
				<li class="list-group-item" data-id="LR_25242" data-name="LR 25242">LR 25242</li>
				<li class="list-group-item" data-id="LR_29693" data-name="LR 29693">LR 29693</li>
				<li class="list-group-item" data-id="LR_30639" data-name="LR 30639">LR 30639</li>
				<li class="list-group-item" data-id="MAL_24992" data-name="MAL 24992">MAL 24992</li>
				<li class="list-group-item" data-id="MLHD_25106" data-name="MLHD 25106">MLHD 25106</li>
				<li class="list-group-item" data-id="MWHD_29814" data-name="MWHD 29814">MWHD 29814</li>
				<li class="list-group-item" data-id="PMD_35478" data-name="PMD 35478">PMD 35478</li>
				<li class="list-group-item" data-id="RBT_35064" data-name="RBT 35064">RBT 35064</li>
				<li class="list-group-item" data-id="RC_34633" data-name="RC 34633">RC 34633</li>
				<li class="list-group-item" data-id="RW_34409" data-name="RW 34409">RW 34409</li>
				<li class="list-group-item" data-id="SCWT_34784" data-name="SCWT 34784">SCWT 34784</li>
				<li class="list-group-item" data-id="SCWT_7230" data-name="SCWT 7230">SCWT 7230</li>
				<li class="list-group-item" data-id="SHP_34234" data-name="SHP 34234">SHP 34234</li>
				<li class="list-group-item" data-id="SHP_34235" data-name="SHP 34235">SHP 34235</li>
				<li class="list-group-item" data-id="SS_26491" data-name="SS 26491">SS 26491</li>
				<li class="list-group-item" data-id="STZ_21669" data-name="STZ 21669">STZ 21669</li>
				<li class="list-group-item" data-id="V_34007" data-name="V 34007">V 34007</li>
				<li class="list-group-item" data-id="WHWT_34443" data-name="WHWT 34443">WHWT 34443</li>
				<li class="list-group-item" data-id="WI_34774" data-name="WI 34774">WI 34774</li>
				<li class="list-group-item" data-id="WI_34911" data-name="WI 34911">WI 34911</li>
				<li class="list-group-item" data-id="WSS_34008" data-name="WSS 34008">WSS 34008</li>
			</ol>
		</div>
		<div class="card border-dark mb-3">
			<h3 class="card-header mt-0">Exclude<small class="float-right"><span class="badge badge-secondary" id="excludeCount">3</span></small></h3>
			<ol id="excludeList" class="analysisList ml-0 list-group list-group-flush">
				<li class="list-group-item" data-id="ACS_34278" data-name="ACS 34278">ACS 34278</li>
				<li class="list-group-item" data-id="BC_30512" data-name="BC 30512">BC 30512</li>
				<li class="list-group-item" data-id="XB_33712" data-name="XB 33712">XB 33712</li>
			</ol>
		</div>
	</div>
	
	<div id="accordion">
		<div class="card">
			<div class="card-header" id="headingTwo" style="padding:0px;">
				<h5 class="mb-0 mt-0"><a class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Parameters</a></h5>
			</div>
			<div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
				<div class="card-body">
					...
				</div>
			</div>
		</div>
	</div>	
	
	<button class="float-right">Run Analysis!</button>

	</main><!-- #main -->

</div><!-- #primary -->

<?php get_sidebar(); ?>

<?php get_sidebar( 'tertiary' ); ?>

<?php get_footer(); ?>

<script type="text/javascript">
jQuery(function ($) {
		var list = $("ol.analysisList").sortable({
			group: 'analysisList',
			onDrop: function ($item, container, _super) {
				
				$(".analysisList").each(function(){
						var myList = $(this);
						var listItems = myList.children('li').get();
						listItems.sort(function(a, b) {
								return $(a).data('id').toUpperCase().localeCompare($(b).data('id').toUpperCase());
						});
						myList.empty().append(listItems);
				});
				
				$("#caseCount").text($("#caseList li").length);
				$("#controlCount").text($("#controlList li").length);
				$("#excludeCount").text($("#excludeList li").length);
				
				var data = list.sortable("serialize").get();
				var jsonString = JSON.stringify(data, null, ' ');
				//console.log(jsonString);
				
				_super($item, container);
			}	
		});
});
</script>